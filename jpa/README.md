# DB 설계 및 JPA 적용 하기

## DB 설계 및 관계 설정 흐름도
![img.png](img.png)


> - 테이블 설계의 경우 상향식 설계 방식을 사용하여 설계 했습니다.


## JPA 적용

### JPA
> - jpa는 java 진영의 orm 기술 표준이다.
> - ORM : 객체 관계 매핑, 객체와 관계형 데이터베이스를 orm 프레임워크가 중간에서 매핑
> - jpa는 application 과 jdbc 사이에서 동작한다.
> - 구현체 : 하이버네이트, eclipselink 등이 있다.

### 사용 이유
> - sql 중심적인 개발에서 객체 중심으로 개발
> - 생산성, 유지보수성에 좋다. -> 칼럼이 추가 되어도 entity만 수정하면 된다.
> - 패러다임의 불일치 해결 -> 상속, 연관관계, 객체 그래프 탐색, == 비교
> - 데이터 접근 추상화와 벤더 독립성

### EntityManagerFactory 
> - 엔티티 매니저 팩토리는 애플리케이션에서 한번만 생성하고 공유해서 사용해야 한다.

### EntityManager
> - 엔티티 매니저를 사용해서 엔티티를 데이터베이스에 crud 할 수있다.
> - 엔티티 매니저는 데이터베이스 커넥션과 밀접한 관계가 있으므로 스레드 간에 공유하거나 재사용 하면 안된다.
> - jpa를 사용하면 항상 트랜잭션 안에서 데이터를 변경해야 한다. 트랜잭션 없이 변경 할 경우 예외 발생

### 영속성 컨텍스트
